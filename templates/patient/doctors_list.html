{% extends "base.html" %}
{% block page_title %}Doctors{% endblock %}
{% block main_content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Doctors</h2>
  <a class="btn btn-outline-primary" href="{{ url_for('route_show_patient_dashboard') }}">Back</a>
</div>
<form class="mb-3">
  <div class="row g-2">
    <div class="col-md-6">
      <select class="form-select" onchange="location = this.value;">
        <option value="{{ url_for('route_show_patient_doctors_list') }}">All Specializations</option>
        {% for dept in departments %}
        <option value="{{ url_for('route_show_patient_doctors_list') }}?specialization={{ dept.id }}">{{ dept.name }}</option>
        {% endfor %}
      </select>
    </div>
  </div>
</form>
<div class="list-group">
  {% for doc in doctors %}
  <a class="list-group-item list-group-item-action" href="{{ url_for('route_show_patient_book_appointment', doctor_id=doc.id) }}">
    {{ doc.name }} - <small>{{ doc.specialization or 'General' }}</small>
  </a>
  {% endfor %}
  {% if doctors|length == 0 %}
  <div class="list-group-item">No doctors available</div>
  {% endif %}
</div>
{% endblock %}
